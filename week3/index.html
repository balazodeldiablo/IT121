<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Assignment 3</title>
    </head>
    <body>
        <h1>Making the grade.</h1>
        <script>
            var grades = "jim|25, sue|32, mary|34, ann|22, ted|28, frank|15, lisa|19, mike|30, ahn|26, vishaya|27";
            
            let baseArray = grades.split(", ");
            baseArray.sort();

            for (i = 0; i < baseArray.length; i++) {
                baseArray[i] = baseArray[i].charAt(0).toUpperCase() + baseArray[i].slice(1);
                baseArray[i] = baseArray[i].split("|");
                document.writeln(`<p>${baseArray[i][0]} - ${baseArray[i][1]}</p>`);
            }

            document.writeln(`<p>Total number of students is: ${baseArray.length}</p>`);

            let sortedGrades = [];
            let avg = 0;
            let total = 0;

            for (i = 0; i < baseArray.length; i++) {
                sortedGrades[i] = baseArray[i][1];
                total = total + parseInt(sortedGrades[i]);
            }

            avg = total / sortedGrades.length;

            function compareNumbers(a, b) {return a - b;}

            sortedGrades.sort(compareNumbers);

            document.writeln(`<p>Highest score: ${sortedGrades[sortedGrades.length - 1]}`);
            document.writeln(`<p>Lowest score: ${sortedGrades[0]}`);
            document.writeln(`<p>Average score: ${avg}`);



        </script>
    </body>
</html>
